{% extends 'party/base.html' %}
{% load static %}

{% block nav %}

  		<ul class="navbar-nav mr-auto">
			<li class="nav-item">
				<a class="nav-link" href="{% url 'authentication:party:party' %}" style="color:white;padding-left:25px;padding-right: 25px">Home
					<span class="sr-only">(current)</span>
				</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="{% url 'authentication:group:group_list' request.user.pk %}" style="color:white;padding-left:20px;padding-right: 20px">Groups</a>
			</li>
            <li class="nav-item">
				<a class="nav-link" href="{% url 'authentication:party:data_analysis' %}" style="color:white;padding-left:20px;padding-right: 20px">Data Analysis</a>
			</li>
            <li class="nav-item">
				<a class="nav-link" href="{% url 'authentication:party:payment_details' %}" style="color:white;padding-left:20px;padding-right: 20px">Payments</a>
			</li>
            <span class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false" style="padding-left:20px;padding-right: 20px; font-size:15px;padding-top:12px">Sentiment Analysis</a>
              <div class="dropdown-menu dropdown-primary" aria-labelledby="navbarDropdownMenuLink" style="width:100%;">
                <a class="dropdown-item" href="{% url 'authentication:party:sentimentanalysis:sentiment_analysis_single' %}" style="font-size:15px;">Single Predict</a>
                <a class="dropdown-item" href="{% url 'authentication:party:sentimentanalysis:sentiment_analysis_batch' %}" style="font-size:15px;">Batch Predict</a>
              </div>
            </span>
		</ul>

{% endblock %}

{% block content %}

        <div style="padding-top: 100px;"><center>
        <span class="login100-form-title p-b-20" style="background: -webkit-linear-gradient(#2dfbff, #3c96ff); -webkit-background-clip: text;-webkit-text-fill-color: transparent; font-size:30px;">Batch Predict</span>
            <p style="font-size: 14px">You require <span style="font-size: 16px;font-weight: bold">200</span> credits to use this functionality</p><br>
        <p style="font-size: 17px">Your Credits : {{ profile.credit_amount }}</p><br></center>
        <form method="post" enctype="multipart/form-data" style="margin-left: 200px;">
          {% csrf_token %}
          <div style="font-size: 14px">Upload a File :<br><br>
          <input type="file" name="fileupload"><br>
          <input type="submit" value="submit" class="btn btn-primary" style="padding: 7px 15px 7px; border-radius: 5px; background: -webkit-linear-gradient(top, #2bfbff);"></div>
        </form>

        {% if not flag and not result %}
            <div class="p-b-120"></div>
        {% endif %}
        {% if flag %}
            <div style="font-size: 13px;margin-left: 200px;padding: 40px 0px 160px">Result: <span style="font-size: 17px;text-transform: uppercase">Positive reviews: {{ pos_count }}<br>Negative reviews: {{ neg_count }}<br>Percentage of positive reviews: {{ pos_per }}</span></div>
        {% endif %}
        {% if result %}
            <div style="font-size: 13px;margin-left: 200px;padding: 40px 0px 160px">Result: <span style="font-size: 17px;text-transform: uppercase">{{ result }}</span></div>
        {% endif %}
        </div>
{% endblock %}